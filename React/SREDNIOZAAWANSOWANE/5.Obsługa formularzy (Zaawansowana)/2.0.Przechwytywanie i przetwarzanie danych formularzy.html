<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Przechwytywanie i przetwarzanie danych formularzy w React</title>
    <link rel="stylesheet" href="/React/styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
</head>
<body>
    <div class="container">
        <h1>Przechwytywanie i przetwarzanie danych formularzy w React</h1>

        <p>W aplikacjach React, jednym z najczęstszych zadań jest obsługa formularzy i przetwarzanie danych wprowadzanych przez użytkownika. W tym celu musimy przechwytywać dane formularza, aktualizować stan komponentu oraz zareagować na przesłanie formularza. React pozwala na to poprzez **kontrolowane komponenty** i funkcje do zarządzania stanem, takie jak <code>useState</code>.</p>

        <h2>Kontrolowane komponenty</h2>
        <p>Kontrolowany komponent to taki, którego dane wejściowe (np. wartość pola tekstowego) są przechowywane w stanie komponentu, a każda zmiana wartości wprowadzonej przez użytkownika jest obsługiwana za pomocą funkcji <code>onChange</code>. W ten sposób formularz jest "kontrolowany" przez React, ponieważ stan komponentu jest jedynym źródłem prawdy dla wartości pól formularza.</p>

        <h2>Podstawowa obsługa formularza</h2>
        <p>Przykład podstawowego formularza, który przechowuje dane w stanie i reaguje na zmiany, wygląda następująco:</p>

        <pre><code class="language-javascript">
        import React, &#123; useState &#125; from 'react';

        function BasicForm() &#123;
          const [name, setName] = useState('');  // Stan dla pola tekstowego

          const handleSubmit = (event) => &#123;
            event.preventDefault();  // Zapobiega domyślnej akcji wysyłki formularza
            alert(`Imię: &#123;name&#125;`);
          &#125;;

          return (
            &lt;form onSubmit=&#123;handleSubmit&#125;&gt;
              &lt;label&gt;Imię:&lt;/label&gt;
              &lt;input 
                type="text" 
                value=&#123;name&#125; 
                onChange=&#123;(e) => setName(e.target.value)&#125; 
              /&gt;
              &lt;button type="submit"&gt;Wyślij&lt;/button&gt;
            &lt;/form&gt;
          );
        &#125;

        export default BasicForm;
        </code></pre>

        <p>W tym przykładzie mamy pole tekstowe, którego wartość jest kontrolowana przez stan <code>name</code>. Za każdym razem, gdy użytkownik wpisuje tekst, funkcja <code>onChange</code> aktualizuje stan, a po przesłaniu formularza (kliknięciu przycisku) dane są przetwarzane w funkcji <code>handleSubmit</code>.</p>

        <h2>Obsługa wielu pól formularza</h2>
        <p>Jeśli mamy więcej niż jedno pole formularza, możemy zarządzać stanem dla każdego pola osobno lub przechowywać wszystkie dane w jednym obiekcie. Oto przykład formularza z dwoma polami: imię i email:</p>

        <pre><code class="language-javascript">
        import React, &#123; useState &#125; from 'react';

        function MultiFieldForm() &#123;
          const [formData, setFormData] = useState(&#123; name: '', email: '' &#125;);

          const handleChange = (event) => &#123;
            const &#123; name, value &#125; = event.target;
            setFormData(&#123; ...formData, [name]: value &#125;);
          &#125;;

          const handleSubmit = (event) => &#123;
            event.preventDefault();
            alert(`Imię: &#123;formData.name&#125;, Email: &#123;formData.email&#125;`);
          &#125;;

          return (
            &lt;form onSubmit=&#123;handleSubmit&#125;&gt;
              &lt;div&gt;
                &lt;label&gt;Imię:&lt;/label&gt;
                &lt;input 
                  type="text" 
                  name="name" 
                  value=&#123;formData.name&#125; 
                  onChange=&#123;handleChange&#125; 
                /&gt;
              &lt;/div&gt;
              &lt;div&gt;
                &lt;label&gt;Email:&lt;/label&gt;
                &lt;input 
                  type="email" 
                  name="email" 
                  value=&#123;formData.email&#125; 
                  onChange=&#123;handleChange&#125; 
                /&gt;
              &lt;/div&gt;
              &lt;button type="submit"&gt;Wyślij&lt;/button&gt;
            &lt;/form&gt;
          );
        &#125;

        export default MultiFieldForm;
        </code></pre>

        <p>W tym przykładzie wszystkie dane formularza są przechowywane w jednym obiekcie stanu <code>formData</code>. Funkcja <code>handleChange</code> jest odpowiedzialna za aktualizację właściwego pola w obiekcie, a funkcja <code>handleSubmit</code> przetwarza dane po przesłaniu formularza.</p>

        <h2>Walidacja danych formularza</h2>
        <p>Możemy również dodać walidację formularza przed jego wysłaniem. Na przykład sprawdźmy, czy pola nie są puste, zanim formularz zostanie przesłany:</p>

        <pre><code class="language-javascript">
        import React, &#123; useState &#125; from 'react';

        function ValidatedForm() &#123;
          const [formData, setFormData] = useState(&#123; name: '', email: '' &#125;);
          const [error, setError] = useState('');

          const handleChange = (event) => &#123;
            const &#123; name, value &#125; = event.target;
            setFormData(&#123; ...formData, [name]: value &#125;);
          &#125;;

          const handleSubmit = (event) => &#123;
            event.preventDefault();
            if (!formData.name || !formData.email) &#123;
              setError('Wszystkie pola są wymagane.');
            &#125; else &#123;
              setError('');
              alert(`Imię: &#123;formData.name&#125;, Email: &#123;formData.email&#125;`);
            &#125;
          &#125;;

          return (
            &lt;form onSubmit=&#123;handleSubmit&#125;&gt;
              &lt;div&gt;
                &lt;label&gt;Imię:&lt;/label&gt;
                &lt;input 
                  type="text" 
                  name="name" 
                  value=&#123;formData.name&#125; 
                  onChange=&#123;handleChange&#125; 
                /&gt;
              &lt;/div&gt;
              &lt;div&gt;
                &lt;label&gt;Email:&lt;/label&gt;
                &lt;input 
                  type="email" 
                  name="email" 
                  value=&#123;formData.email&#125; 
                  onChange=&#123;handleChange&#125; 
                /&gt;
              &lt;/div&gt;
              &lt;button type="submit"&gt;Wyślij&lt;/button&gt;
              &lt;p style="color: red"&gt;&#123;error&#125;&lt;/p&gt;
            &lt;/form&gt;
          );
        &#125;

        export default ValidatedForm;
        </code></pre>

        <p>W tym przykładzie dodano prostą walidację, która sprawdza, czy pola <code>name</code> i <code>email</code> nie są puste. Jeśli któreś pole jest puste, wyświetlany jest komunikat o błędzie, a formularz nie jest przesyłany.</p>

        <h2>Obsługa formularzy z innymi typami danych</h2>
        <p>Formularze mogą zawierać różne typy pól, takie jak pola wyboru (checkboxy), przyciski radiowe i rozwijane listy. Oto przykład obsługi pól wyboru i przycisków radiowych:</p>

        <pre><code class="language-javascript">
        import React, &#123; useState &#125; from 'react';

        function AdvancedForm() &#123;
          const [formData, setFormData] = useState(&#123;
            name: '',
            gender: '',
            termsAccepted: false
          &#125;);

          const handleChange = (event) => &#123;
            const &#123; name, type, value, checked &#125; = event.target;
            setFormData((prevData) => &#123;
              return &#123;
                ...prevData,
                [name]: type === 'checkbox' ? checked : value
              &#125;;
            &#125;);
          &#125;;

          const handleSubmit = (event) => &#123;
            event.preventDefault();
            alert(`Imię: &#123;formData.name&#125;, Płeć: &#123;formData.gender&#125;, Zgoda: &#123;formData.termsAccepted ? 'Tak' : 'Nie'&#125;`);
          &#125;;

          return (
            &lt;form onSubmit=&#123;handleSubmit&#125;&gt;
              &lt;div&gt;
                &lt;label&gt;Imię:&lt;/label&gt;
                &lt;input 
                  type="text" 
                  name="name" 
                  value=&#123;formData.name&#125; 
                  onChange=&#123;handleChange&#125; 
                /&gt;
              &lt;/div&gt;
              &lt;div&gt;
                &lt;label&gt;Płeć:&lt;/label&gt;
                &lt;label&gt;
                  &lt;input 
                    type="radio" 
                    name="gender" 
                    value="Mężczyzna" 
                    checked=&#123;formData.gender === 'Mężczyzna'&#125; 
                    onChange=&#123;handleChange&#125; 
                  /&gt; Mężczyzna
                &lt;/label&gt;
                &lt;label&gt;
                  &lt;input 
                    type="radio" 
                    name="gender" 
                    value="Kobieta" 
                    checked=&#123;formData.gender === 'Kobieta'&#125; 
                    onChange=&#123;handleChange&#125; 
                  /&gt; Kobieta
                &lt;/label&gt;
              &lt;/div&gt;
              &lt;div&gt;
                &lt;label&gt;
                  &lt;input 
                    type="checkbox" 
                    name="termsAccepted" 
                    checked=&#123;formData.termsAccepted&#125; 
                    onChange=&#123;handleChange&#125; 
                  /&gt; Akceptuję regulamin
                &lt;/label&gt;
              &lt;/div&gt;
              &lt;button type="submit"&gt;Wyślij&lt;/button&gt;
            &lt;/form&gt;
          );
        &#125;

        export default AdvancedForm;
        </code></pre>

        <p>W tym przykładzie mamy pola tekstowe, przyciski radiowe i pole wyboru. Zmieniamy stan na podstawie typu pola (np. dla <code>checkbox</code> używamy <code>checked</code> zamiast <code>value</code>).</p>

        <h2>Podsumowanie</h2>
        <p>React zapewnia elastyczne mechanizmy do przechwytywania i przetwarzania danych formularzy. Dzięki kontrolowanym komponentom i funkcjom takim jak <code>useState</code>, możemy łatwo zarządzać danymi formularza, reagować na zmiany wartości i przeprowadzać walidację. Obsługa różnych typów pól w formularzach, takich jak tekst, checkboxy czy przyciski radiowe, jest intuicyjna i łatwa do zaimplementowania.</p>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-javascript.min.js"></script>
</body>
</html>
