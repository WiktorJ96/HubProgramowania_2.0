<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Obsługa zdarzeń na formularzu w React</title>
    <link rel="stylesheet" href="/React/styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
</head>
<body>
    <div class="container">
        <h1>Obsługa zdarzeń na formularzu w React</h1>

        <p>W React obsługa zdarzeń formularza jest prosta dzięki mechanizmom wbudowanym w język JSX. Możemy reagować na zmiany wartości w polach formularza oraz obsługiwać zdarzenia takie jak <code>onSubmit</code> i <code>onChange</code>. Formularze w React są kontrolowane, co oznacza, że każda zmiana wartości formularza jest zarządzana przez stan komponentu.</p>

        <h2>Podstawowa obsługa zdarzeń formularza</h2>
        <p>Aby obsłużyć zdarzenia formularza, musimy przypisać odpowiednie zdarzenia, takie jak <code>onChange</code> dla pól tekstowych czy <code>onSubmit</code> dla samego formularza. Oto prosty przykład:</p>
        <pre><code class="language-javascript">
        import React, &#123; useState &#125; from 'react';

        function BasicForm() &#123;
          const [name, setName] = useState('');

          const handleSubmit = (event) => &#123;
            event.preventDefault();  // Zapobiegamy domyślnej akcji wysyłki formularza
            alert(`Formularz został wysłany przez: &#123;name&#125;`);
          &#125;;

          return (
            &lt;form onSubmit=&#123;handleSubmit&#125;&gt;
              &lt;label&gt;Imię:&lt;/label&gt;
              &lt;input 
                type="text" 
                value=&#123;name&#125; 
                onChange=&#123;(e) => setName(e.target.value)&#125; 
              /&gt;
              &lt;button type="submit"&gt;Wyślij&lt;/button&gt;
            &lt;/form&gt;
          );
        &#125;

        export default BasicForm;
        </code></pre>
        <p>W tym przykładzie formularz zawiera jedno pole tekstowe <code>input</code> oraz przycisk <code>submit</code>. Każda zmiana wartości w polu tekstowym jest obsługiwana przez funkcję <code>setName</code>, a kliknięcie przycisku "Wyślij" uruchamia funkcję <code>handleSubmit</code>, która wyświetla alert z wprowadzonym imieniem.</p>

        <h2>Obsługa wielu pól formularza</h2>
        <p>Jeśli mamy wiele pól w formularzu, możemy zarządzać ich stanem niezależnie, korzystając z kilku zmiennych stanu, lub możemy użyć jednego obiektu stanu do przechowywania wszystkich wartości.</p>
        <pre><code class="language-javascript">
        import React, &#123; useState &#125; from 'react';

        function MultiFieldForm() &#123;
          const [formData, setFormData] = useState(&#123;
            name: '',
            email: ''
          &#125;);

          const handleChange = (event) => &#123;
            const &#123; name, value &#125; = event.target;
            setFormData(&#123; ...formData, [name]: value &#125;);
          &#125;;

          const handleSubmit = (event) => &#123;
            event.preventDefault();
            alert(`Imię: &#123;formData.name&#125;, Email: &#123;formData.email&#125;`);
          &#125;;

          return (
            &lt;form onSubmit=&#123;handleSubmit&#125;&gt;
              &lt;div&gt;
                &lt;label&gt;Imię:&lt;/label&gt;
                &lt;input 
                  type="text" 
                  name="name" 
                  value=&#123;formData.name&#125; 
                  onChange=&#123;handleChange&#125; 
                /&gt;
              &lt;/div&gt;
              &lt;div&gt;
                &lt;label&gt;Email:&lt;/label&gt;
                &lt;input 
                  type="email" 
                  name="email" 
                  value=&#123;formData.email&#125; 
                  onChange=&#123;handleChange&#125; 
                /&gt;
              &lt;/div&gt;
              &lt;button type="submit"&gt;Wyślij&lt;/button&gt;
            &lt;/form&gt;
          );
        &#125;

        export default MultiFieldForm;
        </code></pre>
        <p>W powyższym przykładzie formularz posiada dwa pola: imię oraz email. Zamiast zarządzać każdym polem osobno, wszystkie wartości przechowywane są w jednym obiekcie stanu <code>formData</code>. Funkcja <code>handleChange</code> aktualizuje właściwe pole, bazując na nazwie <code>name</code> elementu formularza.</p>

        <h2>Walidacja formularza</h2>
        <p>Walidacja formularza może być dodana bezpośrednio w metodzie <code>handleSubmit</code> lub za pomocą dodatkowych funkcji. Poniżej znajduje się przykład z prostą walidacją.</p>
        <pre><code class="language-javascript">
        import React, &#123; useState &#125; from 'react';

        function ValidatedForm() &#123;
          const [formData, setFormData] = useState(&#123;
            name: '',
            email: ''
          &#125;);
          const [error, setError] = useState('');

          const handleChange = (event) => &#123;
            const &#123; name, value &#125; = event.target;
            setFormData(&#123; ...formData, [name]: value &#125;);
          &#125;;

          const handleSubmit = (event) => &#123;
            event.preventDefault();
            if (formData.name === '' || formData.email === '') &#123;
              setError('Wszystkie pola są wymagane.');
            &#125; else &#123;
              setError('');
              alert(`Imię: &#123;formData.name&#125;, Email: &#123;formData.email&#125;`);
            &#125;
          &#125;;

          return (
            &lt;form onSubmit=&#123;handleSubmit&#125;&gt;
              &lt;div&gt;
                &lt;label&gt;Imię:&lt;/label&gt;
                &lt;input 
                  type="text" 
                  name="name" 
                  value=&#123;formData.name&#125; 
                  onChange=&#123;handleChange&#125; 
                /&gt;
              &lt;/div&gt;
              &lt;div&gt;
                &lt;label&gt;Email:&lt;/label&gt;
                &lt;input 
                  type="email" 
                  name="email" 
                  value=&#123;formData.email&#125; 
                  onChange=&#123;handleChange&#125; 
                /&gt;
              &lt;/div&gt;
              &lt;button type="submit"&gt;Wyślij&lt;/button&gt;
              &lt;p style="color: red"&gt;&#123;error&#125;&lt;/p&gt;
            &lt;/form&gt;
          );
        &#125;

        export default ValidatedForm;
        </code></pre>
        <p>W tym przykładzie dodajemy prostą walidację, sprawdzając, czy pola <code>name</code> oraz <code>email</code> zostały wypełnione. Jeśli którekolwiek z nich jest puste, ustawiany jest komunikat błędu.</p>

        <h2>Podsumowanie</h2>
        <p>Obsługa formularzy w React opiera się na zarządzaniu stanem komponentu. Dzięki <code>useState</code> możemy dynamicznie reagować na zmiany wartości w polach formularza oraz obsługiwać ich wysyłanie. Możemy również dodawać walidację, aby kontrolować poprawność danych wprowadzonych przez użytkownika.</p>
    </div>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-javascript.min.js"></script>
</body>
</html>
