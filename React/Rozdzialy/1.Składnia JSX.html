<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Sk≈Çadnia JSX</title>
    <link rel="stylesheet" href="../styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
</head>
<body>
    <div class="container">
        <h1>Sk≈Çadnia JSX</h1>
        
        <p>JSX to rozszerzenie sk≈Çadni JavaScript, kt√≥re umo≈ºliwia pisanie element√≥w podobnych do HTML bezpo≈õrednio w kodzie JavaScript. JSX jest czƒôsto wykorzystywany w React do tworzenia komponent√≥w interfejsu u≈ºytkownika.</p>

        <h2>Wprowadzenie do JSX</h2>
        <p>JSX pozwala na wstawianie kodu HTML bezpo≈õrednio w JavaScript i dodawanie wyra≈ºe≈Ñ JavaScript w HTML przy u≈ºyciu sk≈Çadni <code>{}</code>. JSX musi byƒá przetworzony przez Babel, aby dzia≈Ça≈Ç w przeglƒÖdarkach.</p>

        <pre><code class="language-javascript">
// JSX pozwala na pisanie kodu przypominajƒÖcego HTML w JavaScript
const element = &lt;h1&gt;Witaj, ≈õwiecie!&lt;/h1&gt;;

// JSX wspiera wyra≈ºenia JavaScript wewnƒÖtrz nawias√≥w {}
const user = "Jan";
const greeting = &lt;h2&gt;Witaj, {user}!&lt;/h2&gt;;
console.log(greeting);
        </code></pre>

        <!-- Wizualizacja: JSX -> Babel -> React.createElement -> DOM -->
        <details open>
          <summary class="viz-title">üß≠ Jak JSX zamienia siƒô w DOM (krok po kroku)</summary>
          <div class="viz-wrap">
            <svg viewBox="0 0 1000 300" class="viz-svg">
              <defs>
                <marker id="arrow" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto">
                  <path d="M0,0 L12,6 L0,12 Z" fill="#94a3b8"></path>
                </marker>
              </defs>

              <g class="lane" transform="translate(10,10)">
                <rect width="980" height="280" rx="12"></rect>
                <text x="16" y="28" class="lane-title">Przep≈Çyw: JSX ‚Üí Babel ‚Üí React ‚Üí DOM</text>

                <g class="node" transform="translate(20,60)">
                  <rect width="220" height="70" rx="10"></rect>
                  <text x="12" y="28">&lt;h1&gt;Witaj, ≈õwiecie!&lt;/h1&gt;</text>
                  <text x="12" y="50" class="muted">JSX (czytelny zapis)</text>
                </g>

                <path d="M260,95 L330,95" class="arrow"/>
                <g class="pill" transform="translate(330,60)">
                  <rect width="260" height="70" rx="10"></rect>
                  <text x="12" y="28">Babel transpiler</text>
                  <text x="12" y="50" class="muted">zamienia JSX ‚Üí JS</text>
                </g>

                <path d="M600,95 L670,95" class="arrow"/>
                <g class="node" transform="translate(670,60)">
                  <rect width="300" height="70" rx="10"></rect>
                  <text x="12" y="28">React.createElement('h1', ‚Ä¶, 'Witaj, ≈õwiecie!')</text>
                  <text x="12" y="50" class="muted">Virtual DOM node</text>
                </g>

                <g class="ok" transform="translate(330,160)">
                  <rect width="630" height="70" rx="10"></rect>
                  <text x="12" y="28">Renderer (np. ReactDOM) ‚Üí tworzy prawdziwy &lt;h1&gt; w drzewie DOM</text>
                  <text x="12" y="50" class="muted">przeglƒÖdarka wy≈õwietla nag≈Ç√≥wek</text>
                </g>
              </g>
            </svg>

            <div class="grid-two">
              <table class="db-table">
                <caption class="mini">Wyra≈ºenia w { }</caption>
                <thead><tr><th>JS</th><th>Wynik</th></tr></thead>
                <tbody>
                  <tr><td>{user}</td><td>"Jan"</td></tr>
                  <tr><td>{2 + 2}</td><td>4</td></tr>
                </tbody>
              </table>

              <table class="db-table">
                <caption class="mini">Co NIE dzia≈Ça w { }</caption>
                <thead><tr><th>Pr√≥ba</th><th>Pow√≥d</th></tr></thead>
                <tbody>
                  <tr><td>{if (x) ‚Ä¶}</td><td>Instrukcje nie sƒÖ wyra≈ºeniami</td></tr>
                  <tr><td>{for (‚Ä¶) ‚Ä¶}</td><td>U≈ºyj mapowania: <code>{list.map(...)}</code></td></tr>
                </tbody>
              </table>
            </div>
          </div>
        </details>

        <h2>Pisanie komponent√≥w w JSX</h2>
        <p>Komponenty w React mo≈ºna tworzyƒá jako funkcje lub klasy. Funkcja komponentu jest prostƒÖ funkcjƒÖ JavaScript, kt√≥ra zwraca JSX. Oto przyk≈Çad:</p>
        
        <pre><code class="language-javascript">
// Przyk≈Çad prostego komponentu w JSX
function Welcome(props) {
    return &lt;h1&gt;Witaj, {props.name}!&lt;/h1&gt;;
}

// U≈ºycie komponentu
const element = &lt;Welcome name="Jan" /&gt;;
console.log(element);
        </code></pre>

        <!-- Wizualizacja: Props przep≈Çyw -->
        <details>
          <summary class="viz-title">üì¶ Przep≈Çyw props ‚Üí komponent ‚Üí JSX ‚Üí DOM</summary>
          <div class="viz-wrap">
            <svg viewBox="0 0 1000 320" class="viz-svg">
              <defs>
                <marker id="arrow2" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto">
                  <path d="M0,0 L12,6 L0,12 Z" fill="#94a3b8"></path>
                </marker>
              </defs>

              <g class="lane" transform="translate(10,10)">
                <rect width="980" height="300" rx="12"></rect>
                <text x="16" y="28" class="lane-title">&lt;Welcome name="Jan" /&gt; ‚Äì co siƒô dzieje?</text>

                <g class="node" transform="translate(20,60)">
                  <rect width="260" height="70" rx="10"></rect>
                  <text x="12" y="28">Props: {"{ name: 'Jan' }"}</text>
                  <text x="12" y="50" class="muted">tworzone przy wywo≈Çaniu JSX</text>
                </g>

                <path d="M290,95 L360,95" class="arrow2"/>
                <g class="ok" transform="translate(360,60)">
                  <rect width="300" height="70" rx="10"></rect>
                  <text x="12" y="28">Wywo≈Çanie Welcome(props)</text>
                  <text x="12" y="50" class="muted">funkcja zwraca JSX</text>
                </g>

                <path d="M660,95 L730,95" class="arrow2"/>
                <g class="node" transform="translate(730,60)">
                  <rect width="240" height="70" rx="10"></rect>
                  <text x="12" y="28">&lt;h1&gt;Witaj, Jan!&lt;/h1&gt;</text>
                  <text x="12" y="50" class="muted">wirtualny element</text>
                </g>

                <g class="pill" transform="translate(360,160)">
                  <rect width="610" height="70" rx="10"></rect>
                  <text x="12" y="28">Renderer ‚Üí tworzy &lt;h1&gt; w DOM</text>
                  <text x="12" y="50" class="muted">tekst zagnie≈ºd≈ºony ‚ÄûWitaj, Jan!‚Äù</text>
                </g>
              </g>
            </svg>

            <table class="db-table">
              <caption class="mini">Props vs State (skr√≥t)</caption>
              <thead><tr><th>Cechy</th><th>Props</th><th>State</th></tr></thead>
              <tbody>
                <tr><td>Kto ustawia?</td><td>Rodzic</td><td>Komponent (setState/useState)</td></tr>
                <tr><td>Mutowalne?</td><td>Nie (read-only)</td><td>Tak (przez seter)</td></tr>
                <tr><td>Cel</td><td>Konfiguracja</td><td>Dane zmienne w czasie</td></tr>
              </tbody>
            </table>
          </div>
        </details>

        <h2>Wstawianie wyra≈ºe≈Ñ JavaScript w JSX</h2>
        <p>W JSX mo≈ºna wstawiaƒá wyra≈ºenia JavaScript w nawiasach klamrowych <code>{}</code>. Jest to przydatne, gdy chcemy dynamicznie generowaƒá zawarto≈õƒá.</p>

        <pre><code class="language-javascript">
// Przyk≈Çad wstawiania wyra≈ºe≈Ñ w JSX
const user = { firstName: 'Anna', lastName: 'Kowalska' };

function formatName(user) {
    return user.firstName + ' ' + user.lastName;
}

const element = &lt;h1&gt;Witaj, {formatName(user)}!&lt;/h1&gt;;
console.log(element);
        </code></pre>

        <!-- Wizualizacja: Evaluacja wyra≈ºenia w klamrach -->
        <details>
          <summary class="viz-title">üßÆ Co robiƒÖ klamry { } w JSX?</summary>
          <div class="viz-wrap">
            <svg viewBox="0 0 1000 320" class="viz-svg">
              <defs>
                <marker id="arrow3" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto">
                  <path d="M0,0 L12,6 L0,12 Z" fill="#94a3b8"></path>
                </marker>
              </defs>

              <g class="lane" transform="translate(10,10)">
                <rect width="980" height="300" rx="12"></rect>
                <text x="16" y="28" class="lane-title">&lt;h1&gt;Witaj, { '{formatName(user)}' }!&lt;/h1&gt;</text>

                <g class="node" transform="translate(20,60)">
                  <rect width="300" height="70" rx="10"></rect>
                  <text x="12" y="28">formatName(user)</text>
                  <text x="12" y="50" class="muted">wywo≈Çanie JS</text>
                </g>

                <path d="M320,95 L390,95" class="arrow3"/>
                <g class="ok" transform="translate(390,60)">
                  <rect width="280" height="70" rx="10"></rect>
                  <text x="12" y="28">Zwraca: "Anna Kowalska"</text>
                  <text x="12" y="50" class="muted">warto≈õƒá tekstowa</text>
                </g>

                <path d="M670,95 L740,95" class="arrow3"/>
                <g class="node" transform="translate(740,60)">
                  <rect width="240" height="70" rx="10"></rect>
                  <text x="12" y="28">&lt;h1&gt;Witaj, Anna Kowalska!&lt;/h1&gt;</text>
                  <text x="12" y="50" class="muted">wirtualny element</text>
                </g>

                <g class="pill" transform="translate(390,160)">
                  <rect width="590" height="70" rx="10"></rect>
                  <text x="12" y="28">Renderer ‚Üí aktualizuje tekst wƒôz≈Ça</text>
                  <text x="12" y="50" class="muted">wynik wstrzykniƒôty w miejsce { }</text>
                </g>
              </g>
            </svg>

            <table class="db-table">
              <caption class="mini">Dozwolone w { }</caption>
              <thead><tr><th>Rodzaj</th><th>Przyk≈Çad</th></tr></thead>
              <tbody>
                <tr><td>Literal / wyra≈ºenie</td><td><code>{42}</code>, <code>{user.name}</code>, <code>{arr.map(...)}</code></td></tr>
                <tr><td>Warunek</td><td><code>{isOk ? 'OK' : 'NO'}</code></td></tr>
              </tbody>
            </table>
          </div>
        </details>

        <h2>Atrybuty w JSX</h2>
        <p>Podobnie jak w HTML, w JSX mo≈ºna u≈ºywaƒá atrybut√≥w, ale niekt√≥re z nich majƒÖ inne nazwy, jak na przyk≈Çad <code>className</code> zamiast <code>class</code>.</p>
        
        <pre><code class="language-javascript">
// Dodawanie atrybut√≥w w JSX
const element = &lt;img src="zdjecie.jpg" alt="Przyk≈Çadowe zdjƒôcie" className="obrazek" /&gt;;
        </code></pre>

        <!-- Wizualizacja: Mapowanie atrybut√≥w JSX -> DOM -->
        <details>
          <summary class="viz-title">üîó Mapowanie atrybut√≥w JSX ‚Üí DOM</summary>
          <div class="viz-wrap">
            <svg viewBox="0 0 1000 360" class="viz-svg">
              <defs>
                <marker id="arrow4" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto">
                  <path d="M0,0 L12,6 L0,12 Z" fill="#94a3b8"></path>
                </marker>
              </defs>

              <g class="lane" transform="translate(10,10)">
                <rect width="980" height="340" rx="12"></rect>
                <text x="16" y="28" class="lane-title">Przyk≈Çad: &lt;img src="..." className="obrazek" /&gt;</text>

                <g class="node" transform="translate(20,60)">
                  <rect width="300" height="70" rx="10"></rect>
                  <text x="12" y="28">JSX props</text>
                  <text x="12" y="50" class="muted">src, alt, className</text>
                </g>

                <path d="M320,95 L390,95" class="arrow"/>
                <g class="ok" transform="translate(390,60)">
                  <rect width="300" height="70" rx="10"></rect>
                  <text x="12" y="28">React ‚Üí ustawia atrybuty DOM</text>
                  <text x="12" y="50" class="muted">className ‚Üí class</text>
                </g>

                <path d="M690,95 L760,95" class="arrow"/>
                <g class="node" transform="translate(760,60)">
                  <rect width="210" height="70" rx="10"></rect>
                  <text x="12" y="28">&lt;img class="obrazek" ‚Ä¶&gt;</text>
                  <text x="12" y="50" class="muted">realny wƒôze≈Ç DOM</text>
                </g>

                <g class="pill" transform="translate(390,160)">
                  <rect width="580" height="56" rx="10"></rect>
                  <text x="12" y="22">Zdarzenia: JSX u≈ºywa camelCase (np. onClick)</text>
                  <text x="12" y="40" class="muted">DOM otrzymuje listener</text>
                </g>
              </g>
            </svg>

            <div class="grid-two">
              <table class="db-table">
                <caption class="mini">HTML vs JSX (najczƒôstsze)</caption>
                <thead><tr><th>HTML</th><th>JSX</th></tr></thead>
                <tbody>
                  <tr><td><code>class</code></td><td><code>className</code></td></tr>
                  <tr><td><code>for</code></td><td><code>htmlFor</code></td></tr>
                  <tr><td><em>zdarzenia</em></td><td>camelCase: <code>onClick</code>, <code>onChange</code></td></tr>
                </tbody>
              </table>

              <table class="db-table">
                <caption class="mini">Warto≈õci atrybut√≥w</caption>
                <thead><tr><th>Rodzaj</th><th>JSX</th></tr></thead>
                <tbody>
                  <tr><td>≈Åa≈Ñcuch</td><td><code>&lt;div title="tekst" /&gt;</code></td></tr>
                  <tr><td>JS (np. zmienna)</td><td><code>&lt;div title={msg} /&gt;</code></td></tr>
                  <tr><td>Boolean (true)</td><td><code>&lt;input disabled /&gt;</code> lub <code>disabled={true}</code></td></tr>
                </tbody>
              </table>
            </div>
          </div>
        </details>

    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-javascript.min.js"></script>

    <!-- Izolowany CSS dla wizualizacji (pe≈Çna szeroko≈õƒá + sp√≥jny styl) -->
    <style>
      /* Pe≈Çna szeroko≈õƒá dla wrapper√≥w i SVG */
      details, .viz-wrap { width: 100%; max-width: none !important; }
      .viz-title{cursor:pointer;font-weight:600}
      .viz-wrap{padding:.5rem .25rem}
      .viz-svg{display:block;width:100% !important;max-width:100% !important;height:auto !important;background:#0e1729;border-radius:12px}

      /* Siatka i tabele ‚Äì responsywne, pe≈Çna szeroko≈õƒá */
      .grid-two{display:grid;grid-template-columns:minmax(0,1fr) minmax(0,1fr);gap:.75rem;width:100%;max-width:none}
      .grid-two>*{min-width:0}
      @media (max-width: 900px){.grid-two{grid-template-columns:1fr}}

      .db-table{width:100% !important;max-width:100% !important;border-collapse:collapse;margin:.5rem 0;table-layout:fixed}
      .db-table th,.db-table td{border:1px solid #aeaeae;padding:.5rem .65rem;text-align:left;vertical-align:top;word-break:break-word}
      .db-table th{background:#0e1729;color:#dbe2ea}

      /* Bloki SVG (kafelki) */
      .lane rect{fill:#0f172a;stroke:#1f2937}
      .lane-title{fill:#cbd5e1;font-weight:600}
      .node rect{fill:#111827;stroke:#334155}
      .pill rect{fill:#0b3b2e;stroke:#14532d}
      .ok rect{fill:#0b2a3b;stroke:#0e7490}
      .warn rect{fill:#3b0b0b;stroke:#7f1d1d}
      .node text,.pill text,.ok text,.warn text{fill:#e2e8f0;font-size:14px}
      .muted{fill:#94a3b8;font-size:12px}
      .arrow,.arrow2,.arrow3,.arrow4{stroke:#94a3b8;stroke-width:2;fill:none}
      .arrow{marker-end:url(#arrow)} .arrow2{marker-end:url(#arrow2)} .arrow3{marker-end:url(#arrow3)} .arrow4{marker-end:url(#arrow4)}

      /* Kody Prism ‚Äì szeroko≈õƒá 100% + przewijanie w poziomie przy d≈Çugich liniach */
      pre[class*="language-"]{width:100% !important;max-width:none !important;box-sizing:border-box;overflow-x:auto;white-space:pre}
      code[class*="language-"]{white-space:pre}
      .mini{color:#a7b0be;font-size:.95rem}
    </style>
</body>
</html>
