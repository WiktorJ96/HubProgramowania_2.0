<!DOCTYPE html>
<html lang="pl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>React - React Router</title>
    <link rel="stylesheet" href="../styles.css">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
</head>
<body>
    <div class="container">
        <h1>React - React Router</h1>
        
        <p>React Router to biblioteka, kt√≥ra umo≈ºliwia dodanie routingu (nawigacji) w aplikacji React. Dziƒôki niej mo≈ºemy tworzyƒá wielostronicowe aplikacje, gdzie r√≥≈ºne adresy URL wy≈õwietlajƒÖ r√≥≈ºne komponenty bez prze≈Çadowania strony.</p>

        <h2>Instalacja React Router</h2>
        <p>Aby u≈ºywaƒá React Router, nale≈ºy najpierw zainstalowaƒá pakiet <code>react-router-dom</code>:</p>

        <pre><code class="language-bash">
npm install react-router-dom
        </code></pre>

        <details>
          <summary class="viz-title">üì¶ Wizualizacja: instalacja i zale≈ºno≈õci</summary>
          <div class="viz-wrap">
            <svg viewBox="0 0 1000 260" class="viz-svg" aria-label="Instalacja react-router-dom">
              <defs>
                <marker id="rr-arr-install" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto">
                  <path d="M0,0 L12,6 L0,12 Z" fill="#94a3b8"></path>
                </marker>
              </defs>
              <g class="lane" transform="translate(10,10)">
                <rect width="980" height="240" rx="12"></rect>
                <text x="16" y="28" class="lane-title">npm install react-router-dom</text>

                <g class="node" transform="translate(20,60)">
                  <rect width="280" height="70" rx="10"></rect>
                  <text x="12" y="26">Twoja aplikacja</text>
                  <text x="12" y="48" class="muted">src/App.jsx</text>
                </g>
                <path class="arrow" d="M300,95 L470,95" marker-end="url(#rr-arr-install)"/>
                <g class="pill" transform="translate(470,60)">
                  <rect width="240" height="70" rx="10"></rect>
                  <text x="12" y="26">react-router-dom</text>
                  <text x="12" y="48" class="muted">API przeglƒÖdarkowe</text>
                </g>
                <path class="arrow" d="M710,95 L910,95" marker-end="url(#rr-arr-install)"/>
                <g class="ok" transform="translate(730,60)">
                  <rect width="240" height="70" rx="10"></rect>
                  <text x="12" y="26">History API</text>
                  <text x="12" y="48" class="muted">pushState/replaceState</text>
                </g>

                <g class="warn" transform="translate(20,150)">
                  <rect width="940" height="60" rx="10"></rect>
                  <text x="12" y="24">Po instalacji importujesz tylko potrzebne elementy: <tspan class="muted">{ BrowserRouter, Routes, Route, Link, Navigate }</tspan></text>
                </g>
              </g>
            </svg>
          </div>
        </details>

        <h2>Podstawowa Konfiguracja</h2>
        <p>Podstawowe elementy React Router to <code>BrowserRouter</code>, <code>Routes</code>, i <code>Route</code>. <code>BrowserRouter</code> jest kontenerem dla ca≈Çej aplikacji, a <code>Routes</code> zawiera poszczeg√≥lne <code>Route</code>, kt√≥re okre≈õlajƒÖ, jakie komponenty majƒÖ byƒá renderowane dla okre≈õlonych ≈õcie≈ºek.</p>

        <pre><code class="language-javascript">
import React from 'react';
import { BrowserRouter, Routes, Route } from 'react-router-dom';
import Home from './Home';
import About from './About';
import Contact from './Contact';

function App() {
    return (
        &lt;BrowserRouter&gt;
            &lt;Routes&gt;
                &lt;Route path="/" element=&lt;Home /&gt; /&gt;
                &lt;Route path="/about" element=&lt;About /&gt; /&gt;
                &lt;Route path="/contact" element=&lt;Contact /&gt; /&gt;
            &lt;/Routes&gt;
        &lt;/BrowserRouter&gt;
    );
}

export default App;
        </code></pre>

        <details open>
          <summary class="viz-title">üó∫Ô∏è Wizualizacja: dopasowanie ≈õcie≈ºki ‚Üí komponent</summary>
          <div class="viz-wrap">
            <svg viewBox="0 0 1000 460" class="viz-svg" aria-label="Mapowanie ≈õcie≈ºek do komponent√≥w">
              <defs>
                <marker id="rr-arr-map" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto">
                  <path d="M0,0 L12,6 L0,12 Z" fill="#94a3b8"></path>
                </marker>
              </defs>

              <g class="lane" transform="translate(10,10)">
                <rect width="980" height="440" rx="12"></rect>
                <text x="16" y="28" class="lane-title">Router sprawdza URL i renderuje w≈Ça≈õciwy element</text>

                <!-- URL box -->
                <g class="node" transform="translate(20,60)">
                  <rect width="360" height="70" rx="10"></rect>
                  <text x="12" y="26">Aktualny URL</text>
                  <text x="12" y="48" class="muted">np. /about</text>
                </g>

                <!-- Routes box -->
                <g class="pill" transform="translate(420,60)">
                  <rect width="540" height="150" rx="10"></rect>
                  <text x="12" y="30">&lt;Routes&gt;</text>
                  <text x="12" y="54" class="muted">Regu≈Çy dopasowania</text>

                  <g transform="translate(12,72)">
                    <rect width="516" height="30" rx="6" fill="#111827" stroke="#334155"></rect>
                    <text x="12" y="20" fill="#e2e8f0">/ ‚Üí &lt;Home /&gt;</text>
                  </g>
                  <g transform="translate(12,108)">
                    <rect width="516" height="30" rx="6" fill="#111827" stroke="#334155"></rect>
                    <text x="12" y="20" fill="#e2e8f0">/about ‚Üí &lt;About /&gt;</text>
                  </g>
                  <g transform="translate(12,144)">
                    <rect width="516" height="30" rx="6" fill="#111827" stroke="#334155"></rect>
                    <text x="12" y="20" fill="#e2e8f0">/contact ‚Üí &lt;Contact /&gt;</text>
                  </g>
                </g>

                <path class="arrow" d="M380,95 L420,95" marker-end="url(#rr-arr-map)"/>
                <path class="arrow" d="M690,210 L690,290" marker-end="url(#rr-arr-map)"/>

                <!-- Rendered component -->
                <g class="ok" transform="translate(540,290)">
                  <rect width="300" height="70" rx="10"></rect>
                  <text x="12" y="26">Render: &lt;About /&gt;</text>
                  <text x="12" y="48" class="muted">bo URL = /about</text>
                </g>

                <!-- Table -->
                <g transform="translate(20,290)">
                  <foreignObject width="480" height="140">
                    <div xmlns="http://www.w3.org/1999/xhtml">
                      <table class="db-table">
                        <caption class="mini">Przyk≈Çadowe URL ‚Üí wynik</caption>
                        <thead><tr><th>URL</th><th>Wynik</th></tr></thead>
                        <tbody>
                          <tr><td>/</td><td>Home</td></tr>
                          <tr><td>/about</td><td>About</td></tr>
                          <tr><td>/contact</td><td>Contact</td></tr>
                        </tbody>
                      </table>
                    </div>
                  </foreignObject>
                </g>
              </g>
            </svg>
          </div>
        </details>

        <p>W powy≈ºszym przyk≈Çadzie ka≈ºda ≈õcie≈ºka (<code>path</code>) renderuje inny komponent. <code>"/"</code> wy≈õwietla komponent <code>Home</code>, <code>"/about"</code> wy≈õwietla <code>About</code>, a <code>"/contact"</code> wy≈õwietla <code>Contact</code>.</p>

        <h2>Nawigacja</h2>
        <p>Aby poruszaƒá siƒô miƒôdzy r√≥≈ºnymi ≈õcie≈ºkami w aplikacji, u≈ºywamy komponentu <code>Link</code> zamiast tradycyjnego HTML-owego linku <code>&lt;a&gt;</code>. Pozwala to na zmianƒô ≈õcie≈ºek bez prze≈Çadowania strony.</p>

        <pre><code class="language-javascript">
import React from 'react';
import { Link } from 'react-router-dom';

function Navbar() {
    return (
        &lt;nav&gt;
            &lt;ul&gt;
                &lt;li&gt;&lt;Link to="/"&gt;Strona g≈Ç√≥wna&lt;/Link&gt;&lt;/li&gt;
                &lt;li&gt;&lt;Link to="/about"&gt;O nas&lt;/Link&gt;&lt;/li&gt;
                &lt;li&gt;&lt;Link to="/contact"&gt;Kontakt&lt;/Link&gt;&lt;/li&gt;
            &lt;/ul&gt;
        &lt;/nav&gt;
    );
}

export default Navbar;
        </code></pre>

        <details>
          <summary class="viz-title">üîó Wizualizacja: <code>Link</code> ‚Üí zmiana URL bez prze≈Çadowania</summary>
          <div class="viz-wrap">
            <svg viewBox="0 0 1000 420" class="viz-svg" aria-label="Link i p≈Çynna nawigacja">
              <defs>
                <marker id="rr-arr-link" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto">
                  <path d="M0,0 L12,6 L0,12 Z" fill="#94a3b8"></path>
                </marker>
              </defs>

              <g class="lane" transform="translate(10,10)">
                <rect width="980" height="400" rx="12"></rect>
                <text x="16" y="28" class="lane-title">Klik w &lt;Link to="/about"&gt; ‚Üí pushState ‚Üí Router renderuje &lt;About /&gt;</text>

                <g class="node" transform="translate(20,60)">
                  <rect width="260" height="60" rx="10"></rect>
                  <text x="12" y="24">U≈ºytkownik klika Link</text>
                </g>
                <path class="arrow" d="M280,90 L460,90" marker-end="url(#rr-arr-link)"/>

                <g class="pill" transform="translate(460,60)">
                  <rect width="260" height="60" rx="10"></rect>
                  <text x="12" y="24">History.pushState('/about')</text>
                </g>
                <path class="arrow" d="M720,90 L900,90" marker-end="url(#rr-arr-link)"/>

                <g class="ok" transform="translate(720,150)">
                  <rect width="240" height="60" rx="10"></rect>
                  <text x="12" y="24">Routes match ‚Üí About</text>
                </g>

                <g class="warn" transform="translate(20,150)">
                  <rect width="660" height="60" rx="10"></rect>
                  <text x="12" y="24">Brak prze≈Çadowania strony</text>
                  <text x="12" y="44" class="muted">Single Page Application (SPA)</text>
                </g>

                <g transform="translate(20,230)">
                  <foreignObject width="940" height="150">
                    <div xmlns="http://www.w3.org/1999/xhtml">
                      <table class="db-table">
                        <caption class="mini">Link vs &lt;a&gt;</caption>
                        <thead><tr><th>Element</th><th>Zachowanie</th><th>U≈ºycie</th></tr></thead>
                        <tbody>
                          <tr><td>&lt;Link to="/about"&gt;</td><td>pushState, bez prze≈Çadowania</td><td>Nawigacja wewnƒÖtrz SPA</td></tr>
                          <tr><td>&lt;a href="/about"&gt;</td><td>pe≈Çne przej≈õcie/od≈õwie≈ºenie</td><td>Link do zewnƒôtrznej strony/SSR</td></tr>
                        </tbody>
                      </table>
                    </div>
                  </foreignObject>
                </g>
              </g>
            </svg>
          </div>
        </details>

        <p>Komponent <code>Link</code> zmienia adres URL i renderuje odpowiedni komponent, bez od≈õwie≈ºania ca≈Çej strony.</p>

        <h2>Komponent <code>Navigate</code></h2>
        <p>React Router umo≈ºliwia r√≥wnie≈º przekierowywanie u≈ºytkownik√≥w na innƒÖ stronƒô za pomocƒÖ komponentu <code>Navigate</code>. Przyk≈Çadem mo≈ºe byƒá przekierowanie na stronƒô g≈Ç√≥wnƒÖ po wykonaniu akcji:</p>

        <pre><code class="language-javascript">
import React from 'react';
import { Navigate } from 'react-router-dom';

function RedirectToHome() {
    return &lt;Navigate to="/" /&gt;;
}
        </code></pre>

        <details>
          <summary class="viz-title">‚û°Ô∏è Wizualizacja: <code>Navigate</code> ‚Äì przekierowanie programistyczne</summary>
          <div class="viz-wrap">
            <svg viewBox="0 0 1000 380" class="viz-svg" aria-label="Navigate redirect">
              <defs>
                <marker id="rr-arr-nav" markerWidth="12" markerHeight="12" refX="10" refY="6" orient="auto">
                  <path d="M0,0 L12,6 L0,12 Z" fill="#94a3b8"></path>
                </marker>
              </defs>

              <g class="lane" transform="translate(10,10)">
                <rect width="980" height="360" rx="12"></rect>
                <text x="16" y="28" class="lane-title">&lt;Navigate to="/" /&gt; ‚Üí replaceState ‚Üí render Home</text>

                <g class="node" transform="translate(20,60)">
                  <rect width="380" height="60" rx="10"></rect>
                  <text x="12" y="24">Komponent zwraca &lt;Navigate to="/" /&gt;</text>
                </g>
                <path class="arrow" d="M400,90 L600,90" marker-end="url(#rr-arr-nav)"/>

                <g class="pill" transform="translate(600,60)">
                  <rect width="300" height="60" rx="10"></rect>
                  <text x="12" y="24">History.replaceState('/', ...)</text>
                </g>

                <g class="ok" transform="translate(20,150)">
                  <rect width="940" height="60" rx="10"></rect>
                  <text x="12" y="24">Router dopasowuje ‚Äû/‚Äù ‚Üí render &lt;Home /&gt;</text>
                </g>

                <g transform="translate(20,230)">
                  <foreignObject width="940" height="110">
                    <div xmlns="http://www.w3.org/1999/xhtml">
                      <table class="db-table">
                        <caption class="mini">Navigate ‚Äì kiedy?</caption>
                        <thead><tr><th>Przypadek</th><th>Opis</th></tr></thead>
                        <tbody>
                          <tr><td>Po akcji</td><td>np. po udanym logowaniu przenie≈õ na ‚Äû/dashboard‚Äù</td></tr>
                          <tr><td>Ochrona tras</td><td>brak uprawnie≈Ñ ‚Üí przekieruj na ‚Äû/login‚Äù</td></tr>
                        </tbody>
                      </table>
                    </div>
                  </foreignObject>
                </g>
              </g>
            </svg>
          </div>
        </details>
        
    </div>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/prism.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.23.0/components/prism-javascript.min.js"></script>

    <!-- Izolowany CSS dla wizualizacji: pe≈Çna szeroko≈õƒá + responsywno≈õƒá -->
    <style>
      /* Pe≈Çna szeroko≈õƒá dla sekcji wizualizacji */
      details, .viz-wrap { width:100%; max-width:none !important; }
      .viz-title{cursor:pointer;font-weight:600}
      .viz-wrap{padding:.5rem .25rem}

      /* Responsywne SVG */
      .viz-svg{display:block;width:100% !important;max-width:100% !important;height:auto !important;background:#0e1729;border-radius:12px}

      /* Layout i tabele */
      .grid-two{display:grid;grid-template-columns:minmax(0,1fr) minmax(0,1fr);gap:.75rem;width:100%;max-width:none}
      .grid-two>*{min-width:0}
      @media (max-width: 900px){.grid-two{grid-template-columns:1fr}}
      .db-table{width:100% !important;max-width:100% !important;border-collapse:collapse;margin:.5rem 0;table-layout:fixed}
      .db-table th,.db-table td{border:1px solid #aeaeae;padding:.5rem .65rem;text-align:left;vertical-align:top;word-break:break-word}
      .db-table th{background:#0e1729;color:#dbe2ea}
      .mini{color:#a7b0be;font-size:.95rem}

      /* Bloki / kolory */
      .lane rect{fill:#0f172a;stroke:#1f2937}
      .lane-title{fill:#cbd5e1;font-weight:600}
      .node rect{fill:#111827;stroke:#334155}
      .pill rect{fill:#0b3b2e;stroke:#14532d}
      .ok rect{fill:#0b2a3b;stroke:#0e7490}
      .warn rect{fill:#3b0b0b;stroke:#7f1d1d}
      .node text,.pill text,.ok text,.warn text{fill:#e2e8f0;font-size:14px}
      .muted{fill:#94a3b8;font-size:12px}

      /* Strza≈Çki */
      .arrow{stroke:#94a3b8;stroke-width:2;fill:none}

      /* Kod ‚Äì pe≈Çna szeroko≈õƒá + przewijanie poziome w razie potrzeby */
      pre[class*="language-"]{width:100% !important;max-width:none !important;box-sizing:border-box;overflow-x:auto;white-space:pre}
      code[class*="language-"]{white-space:pre}
    </style>
</body>
</html>
